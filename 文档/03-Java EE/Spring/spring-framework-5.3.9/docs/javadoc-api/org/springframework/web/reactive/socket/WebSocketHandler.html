<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>WebSocketHandler (Spring Framework 5.3.9 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WebSocketHandler (Spring Framework 5.3.9 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebSocketHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Spring Framework</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/springframework/web/reactive/socket/HandshakeInfo.html" title="class in org.springframework.web.reactive.socket"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/springframework/web/reactive/socket/WebSocketMessage.html" title="class in org.springframework.web.reactive.socket"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/springframework/web/reactive/socket/WebSocketHandler.html" target="_top">Frames</a></li>
<li><a href="WebSocketHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.springframework.web.reactive.socket</div>
<h2 title="Interface WebSocketHandler" class="title">Interface WebSocketHandler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/springframework/web/reactive/socket/adapter/ContextWebSocketHandler.html" title="class in org.springframework.web.reactive.socket.adapter">ContextWebSocketHandler</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">WebSocketHandler</span></pre>
<div class="block">Handler for a WebSocket session.

 <p>A server <code>WebSocketHandler</code> is mapped to requests with
 <a href="../../../../../org/springframework/web/reactive/handler/SimpleUrlHandlerMapping.html" title="class in org.springframework.web.reactive.handler"><code>SimpleUrlHandlerMapping</code></a> and
 <a href="../../../../../org/springframework/web/reactive/socket/server/support/WebSocketHandlerAdapter.html" title="class in org.springframework.web.reactive.socket.server.support"><code>WebSocketHandlerAdapter</code></a>. A client <code>WebSocketHandler</code> is passed to the
 <a href="../../../../../org/springframework/web/reactive/socket/client/WebSocketClient.html" title="interface in org.springframework.web.reactive.socket.client"><code>WebSocketClient</code></a> execute method.

 <p>Use <a href="../../../../../org/springframework/web/reactive/socket/WebSocketSession.html#receive--"><code>session.receive()</code></a> to compose on
 the inbound message stream, and <a href="../../../../../org/springframework/web/reactive/socket/WebSocketSession.html#send-org.reactivestreams.Publisher-"><code>session.send(publisher)</code></a> for the outbound message stream. Below is an
 example, combined flow to process inbound and to send outbound messages:

 <pre class="code">
 class ExampleHandler implements WebSocketHandler {

        &#064;Override
        public Mono&lt;Void&gt; handle(WebSocketSession session) {

                Flux&lt;WebSocketMessage&gt; output = session.receive()
                        .doOnNext(message -> {
                                // ...
                        })
                        .concatMap(message -> {
                                // ...
                        })
                        .map(value -> session.textMessage("Echo " + value));

                return session.send(output);
        }
 }
 </pre>

 <p>If processing inbound and sending outbound messages are independent
 streams, they can be joined together with the "zip" operator:

 <pre class="code">
 class ExampleHandler implements WebSocketHandler {

        &#064;Override
        public Mono&lt;Void&gt; handle(WebSocketSession session) {

                Mono&lt;Void&gt; input = session.receive()
                        .doOnNext(message -> {
                                // ...
                        })
                        .concatMap(message -> {
                                // ...
                        })
                        .then();

                Flux&lt;String&gt; source = ... ;
                Mono&lt;Void&gt; output = session.send(source.map(session::textMessage));

                return Mono.zip(input, output).then();
        }
 }
 </pre>

 <p>A <code>WebSocketHandler</code> must compose the inbound and outbound streams
 into a unified flow and return a <code>Mono&lt;Void&gt;</code> that reflects the
 completion of that flow. That means there is no need to check if the
 connection is open, since Reactive Streams signals will terminate activity.
 The inbound stream receives a completion/error signal, and the outbound
 stream receives a cancellation signal.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Rossen Stoyanchev</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/web/reactive/socket/WebSocketHandler.html#getSubProtocols--">getSubProtocols</a></span>()</code>
<div class="block">Return the list of sub-protocols supported by this handler.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/springframework/web/reactive/socket/WebSocketHandler.html#handle-org.springframework.web.reactive.socket.WebSocketSession-">handle</a></span>(<a href="../../../../../org/springframework/web/reactive/socket/WebSocketSession.html" title="interface in org.springframework.web.reactive.socket">WebSocketSession</a>&nbsp;session)</code>
<div class="block">Invoked when a new WebSocket connection is established, and allows
 handling of the session.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSubProtocols--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubProtocols</h4>
<pre>default&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getSubProtocols()</pre>
<div class="block">Return the list of sub-protocols supported by this handler.
 <p>By default an empty list is returned.</div>
</li>
</ul>
<a name="handle-org.springframework.web.reactive.socket.WebSocketSession-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handle</h4>
<pre>reactor.core.publisher.Mono&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;handle(<a href="../../../../../org/springframework/web/reactive/socket/WebSocketSession.html" title="interface in org.springframework.web.reactive.socket">WebSocketSession</a>&nbsp;session)</pre>
<div class="block">Invoked when a new WebSocket connection is established, and allows
 handling of the session.

 <p>See the class-level doc and the reference manual for more details and
 examples of how to handle the session.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the session to handle</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>indicates when application handling of the session is complete,
 which should reflect the completion of the inbound message stream
 (i.e. connection closing) and possibly the completion of the outbound
 message stream and the writing of messages</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebSocketHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Spring Framework</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/springframework/web/reactive/socket/HandshakeInfo.html" title="class in org.springframework.web.reactive.socket"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/springframework/web/reactive/socket/WebSocketMessage.html" title="class in org.springframework.web.reactive.socket"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/springframework/web/reactive/socket/WebSocketHandler.html" target="_top">Frames</a></li>
<li><a href="WebSocketHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
